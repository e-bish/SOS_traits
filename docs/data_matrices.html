<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Emily Bishop" />

<meta name="date" content="2024-04-29" />

<title>Data Matrices</title>

<script src="site_libs/header-attrs-2.21/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Salish Sea Functional Diversity Analysis</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="FD_overview.html">FD Overview</a>
</li>
<li>
  <a href="data_matrices.html">Data Matrices</a>
</li>
<li>
  <a href="fish_results.html">Fish Results</a>
</li>
<li>
  <a href="bird_results.html">Bird Results</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Data Matrices</h1>
<h4 class="author">Emily Bishop</h4>
<h4 class="date">2024-04-29</h4>

</div>


<p>The following matrices were constructed as a result of the decisions
described on the home page.</p>
<div id="the-r-environmental-matrix" class="section level3">
<h3>The R (environmental) matrix</h3>
<p>For this analysis, we’re focusing on indices of urbanization that are
likely to impact the functional traits of the nearshore community. This
matrix will have rows associated with each site and columns for
urbanization indices within a buffer of the shoreline.</p>
<p>One potential approach would be to crop NOAA C-CAP data by USGS
HUC-12 (watershed) to get the % developed, % natural, and % agricultural
area in the watershed, in addition to % armor of surrounding
shorelines.</p>
</div>
<div id="the-l-communityspecies-distribution-matrices"
class="section level3">
<h3>The L (community/species distribution) matrices</h3>
<p>For fish, abundances will be pooled across depths within sites. There
were a couple of instances where we didn’t sample at every shoreline
within a site so the abundance matrix needs to account for differences
in survey effort. We also didn’t sample at every site in every month
each year.</p>
<p>Approach: treat ipas (shorelines) as replicates? calculate average
number of each species caught per sampling event (single day)?</p>
<pre class="r"><code>head(fish.list[[2]])</code></pre>
<pre><code>##              bay_pipefish buffalo_sculpin c_o_sole chinook_salmon chum_salmon
## 2018_Jun_COR            0            0.00     0.00           3.33        0.00
## 2018_Jun_DOK            0            0.00     0.00           0.67        0.00
## 2018_Jun_EDG            0            0.00     0.33           1.33        0.00
## 2018_Jun_FAM            0            0.33     0.00           0.00        0.67
## 2018_Jun_SHR            0            0.00     0.00           1.33       15.67
## 2018_Jun_TUR            0            0.33     0.00           0.00        0.33
##              coho_salmon crescent_gunnel cutthroat_trout english_sole
## 2018_Jun_COR        0.67               2               0            0
## 2018_Jun_DOK        0.00               0               0            0
## 2018_Jun_EDG        0.00               0               0            0
## 2018_Jun_FAM        0.00               0               0            0
## 2018_Jun_SHR        0.67               0               0            0
## 2018_Jun_TUR        0.00               0               0            0
##              great_sculpin kelp_greenling lingcod northern_anchovy pacific_cod
## 2018_Jun_COR             0           0.00    0.00                0           0
## 2018_Jun_DOK             0           0.00    0.00                0           0
## 2018_Jun_EDG             0           0.00    0.00                0           0
## 2018_Jun_FAM             0           0.33    0.33                0           0
## 2018_Jun_SHR             0           0.00    0.67                0           0
## 2018_Jun_TUR             0           0.00    0.00                0           0
##              pacific_sandfish pacific_herring pacific_sand_lance
## 2018_Jun_COR                0            0.33                  0
## 2018_Jun_DOK                0            0.00                  0
## 2018_Jun_EDG                0            0.00                  0
## 2018_Jun_FAM                0            6.33                  0
## 2018_Jun_SHR                0            0.00                  0
## 2018_Jun_TUR                0            0.00                  0
##              pacific_sand_sole pacific_snake_prickleback
## 2018_Jun_COR                 0                      4.00
## 2018_Jun_DOK                 0                      0.00
## 2018_Jun_EDG                 3                      0.00
## 2018_Jun_FAM                 0                      0.33
## 2018_Jun_SHR                 1                      0.00
## 2018_Jun_TUR                 0                      0.00
##              pacific_staghorn_sculpin pacific_tomcod padded_sculpin
## 2018_Jun_COR                        6              0              0
## 2018_Jun_DOK                        0              0              0
## 2018_Jun_EDG                        0              0              0
## 2018_Jun_FAM                        0              0              0
## 2018_Jun_SHR                        0              0              0
## 2018_Jun_TUR                        0             72              0
##              penpoint_gunnel pile_perch pink_salmon plainfin_midshipman
## 2018_Jun_COR               0          0        0.33                   0
## 2018_Jun_DOK               0          0        0.00                   0
## 2018_Jun_EDG               0          0        0.00                   0
## 2018_Jun_FAM               0          0        0.00                   0
## 2018_Jun_SHR               0          0        0.00                   0
## 2018_Jun_TUR               0          0      112.33                   0
##              rock_sole saddleback_gunnel sand_dab shiner_perch
## 2018_Jun_COR         0              1.00        0        10.00
## 2018_Jun_DOK         0              0.00        0         4.00
## 2018_Jun_EDG         0              0.00        0        18.33
## 2018_Jun_FAM         0              0.33        0         0.00
## 2018_Jun_SHR         0              0.33        0         1.33
## 2018_Jun_TUR         0              0.00        0         0.33
##              silverspotted_sculpin speckled_sanddab starry_flounder
## 2018_Jun_COR                     0             0.00               0
## 2018_Jun_DOK                     0             0.00               0
## 2018_Jun_EDG                     0             0.00               0
## 2018_Jun_FAM                     0             0.00               0
## 2018_Jun_SHR                     0             0.33               0
## 2018_Jun_TUR                     0             0.00               0
##              steelhead_trout striped_seaperch surf_smelt tadpole_sculpin
## 2018_Jun_COR               0             0.67          0               0
## 2018_Jun_DOK               0             0.00          0               0
## 2018_Jun_EDG               0             0.00          0               0
## 2018_Jun_FAM               0             0.00          0               0
## 2018_Jun_SHR               0             0.00          0               0
## 2018_Jun_TUR               0             0.00          0               0
##              three_spined_stickleback tidepool_sculpin tidepool_snailfish
## 2018_Jun_COR                     0.00                0                  0
## 2018_Jun_DOK                     0.00                0                  0
## 2018_Jun_EDG                     9.67                0                  0
## 2018_Jun_FAM                     0.00                0                  0
## 2018_Jun_SHR                     0.00                0                  0
## 2018_Jun_TUR                     0.00                0                  0
##              tube_snout whitespotted_greenling
## 2018_Jun_COR       0.00                      0
## 2018_Jun_DOK       0.33                      0
## 2018_Jun_EDG       1.00                      0
## 2018_Jun_FAM       0.00                      0
## 2018_Jun_SHR       0.00                      0
## 2018_Jun_TUR       0.00                      0</code></pre>
</div>
<div id="the-q-trait-matrices" class="section level3">
<h3>The Q (trait) matrices</h3>
<p>Fish:</p>
<pre class="r"><code>head(fish.list[[1]])</code></pre>
<pre><code>##                 mean_length_mm        body_shape_i  demers_pelag    migrations
## bay_pipefish         135.54422            eel-like      demersal non-migratory
## buffalo_sculpin       81.24444   fusiform / normal      demersal non-migratory
## c_o_sole              70.00000 short and / or deep      demersal non-migratory
## chinook_salmon       107.47869   fusiform / normal benthopelagic    anadromous
## chum_salmon           70.83002   fusiform / normal benthopelagic    anadromous
## coho_salmon          123.98942   fusiform / normal       pelagic    anadromous
##                    schooling   feeding_guild
## bay_pipefish    nonschooling zoobenthivorous
## buffalo_sculpin nonschooling zoobenthivorous
## c_o_sole        nonschooling zoobenthivorous
## chinook_salmon     schooling      omnivorous
## chum_salmon        schooling      omnivorous
## coho_salmon     nonschooling      omnivorous</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
